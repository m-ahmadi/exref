<style>
.a {
	width: 300px;
	height: 200px;
	background:red;
	animation: mamad 1s infinite ease;
}

@keyframes mamad {
	0% {}
	100% {}
}

.b {
	float: right;
	width: 100%;
	background: grey;
}
.b div {
	float: right;
	width: 10px;
	height: 10px;
	margin: 5px 5px;
	background: red;
	border-radius: 20px; 
	box-shadow:
	inset 0px 0px 5px -1px rgba(0,0,0,.2),
	0px 0px 1px 1px black;
	transition: background .4s;
}
</style>

<div class="a"></div>

<div class="b">
	<div></div>
	<div></div>
	<div></div>
	<div></div>
</div>

<script>
var parent = document.getElementsByClassName('b')[0];
var i = 0;
var counter;
	
for (i; i<600; i+=1) {
	parent.appendChild( document.createElement('div') );
}
counter = parent.children.length;
var time = setInterval(function () {
	counter -= 1;
	if (counter >= 0) {
		parent.children[counter].style.background = '#85FF00';
	} else {
		clearInterval(time);
	}
	
}, 20);

/*
counter = 0;
var time = setInterval(function () {
	
	if (counter < parent.children.length) {
		parent.children[counter].style.background = '#85FF00';
	} else {
		clearInterval(time);
	}
	counter += 1;
}, 1000);
*/


//parent.childElementCount;
</script>